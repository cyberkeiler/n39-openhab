rule "Sonoff9796700 Buttons"
when
	Item LobbyButton changed
then
	//This Script transforms the Gatekeeper Events into 2 States
	if(LobbyButton.state==1) {
    if (LobbyRelais.state!=ON)      // item OFF or uninitialized
        LobbyRelais.sendCommand(ON)
    else
        LobbyRelais.sendCommand(OFF)
	}
  else if(LobbyButton.state==2) {
  if (Logouhr_ON.state!=ON)      // item OFF or uninitialized
      Logouhr_ON.sendCommand(ON)
  else
      Logouhr_ON.sendCommand(OFF)
	}
	else if(LobbyButton.state==-1) {
		LobbyRelais.sendCommand(OFF)
    Logouhr_ON.sendCommand(OFF)
	}
  postUpdate(LobbyButton,0)
end

rule "SpaceLever UP"
when
	Item SpaceLeverUP received update
then
	// Diese Script ändern jegliche Änderungen des oberen oder unteren Kontakts in eine SpaceStatus Änderung
  if (SpaceLeverUP.state==0){
		sendTelegram("N39DEBUG", "SpaceLever schaltet INTO UP (2)")
		if(SpaceLeverEnable.state==ON)
      SpaceStatus.sendCommand(ON)
  }else{
		sendTelegram("N39DEBUG", "SpaceLever schaltet FROM UP (3)")
		if(SpaceLeverEnable.state==ON)
      SpaceStatus.sendCommand(OFF)
	}
end

rule "SpaceLever DOWN"
when
	Item SpaceLeverDOWN received update
then
	// Diese Script ändern jegliche Änderungen des oberen oder unteren Kontakts in eine SpaceStatus Änderung
	if (SpaceLeverUP.state==0){
		sendTelegram("N39DEBUG", "SpaceLever schaltet INTO DOWN (4)")
		if(SpaceLeverEnable.state==ON)
			SpaceStatus.sendCommand(OFF)
	}else{
		sendTelegram("N39DEBUG", "SpaceLever schaltet FROM DOWN (1)")
		if(SpaceLeverEnable.state==ON)
			SpaceStatus.sendCommand(ON)
	}
end
